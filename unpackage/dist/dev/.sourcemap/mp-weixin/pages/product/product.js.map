{"version":3,"sources":["webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/main.js","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?d30a","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?9bf6","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?9356","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?7635","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?5df7","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?44e9"],"names":["createPage","Page","components","rfItemPopup","rfBadge","rfRate","rfNumberBox","uniTag","rfNoData","filters","formatRichText","html","newContent","replace","match","capture","time","val","format","discountFilter","toFixed","pointExchangeTypeFilter","type","parseInt","integralGiveTypeFilter","givePointFilter","integral_give_type","Math","round","give_point","minSkuPrice","data","serviceClass","ladderPreferentialClass","attributeValueClass","specClass","couponClass","cartType","maskState","couponList","productDetail","styleObject","showTypeImage","specSelected","favorite","shareList","currentStock","currentSkuPrice","specList","specChildList","cartCount","product_id","evaluateList","hasLogin","cartNum","loading","errorInfo","headImg","$mAssetsPath","isPointExchange","computed","buyBtnDisabled","stock","addCartBtnDisabled","point_exchange_type","is_virtual","onLoad","options","initData","id","forEach","item","cItem","pid","$set","push","onShareAppMessage","$http","post","transmitCreate","topic_type","topic_id","then","title","name","path","methods","navTo","route","$mHelper","backToLogin","$mRouter","showPopupService","list","length","shareToH5","toast","hideService","getCoupon","couponReceive","catch","toEvaluateList","evaluateStat","comment_num","JSON","stringify","numberChange","number","$mStore","getters","uni","getStorageSync","getProductDetail","get","r","evaluate","myCollect","base_attribute_format","value","selected","skuStr","base_spec_value_id","sku","join","price","err","toggleSpec","sku_id","handleCartItemCreate","buy","setTimeout","hideSpec","cartItemCreate","num","cartItemCount","setStorageSync","setTabBarBadge","index","$mConstDataConfig","cartIndex","text","selectSpec","base_spec_id","color","toFavorite","handleCollectDel","handleCollectCreate","collectCreate","delete","collectDel","addCart","stopPrevent"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,mG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AACsM;AACtM,gBAAgB,2MAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,kLAEN;AACL,GAAG;AACH;AACA,WAAW,kLAEN;AACL,GAAG;AACH;AACA,WAAW,wLAEN;AACL,GAAG;AACH;AACA,WAAW,0PAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtK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","file":"pages/product/product.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/product/product.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./product.vue?vue&type=template&id=3c71abd6&scoped=true&\"\nvar renderjs\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&id=3c71abd6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c71abd6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue\"\nexport default component.exports","export * from \"-!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=template&id=3c71abd6&scoped=true&\"","var components = {\n  \"uni-tag\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-tag/uni-tag\" */ \"@/components/uni-tag/uni-tag.vue\"\n    )\n  },\n  \"rf-rate\": function() {\n    return import(\n      /* webpackChunkName: \"components/rf-rate/rf-rate\" */ \"@/components/rf-rate/rf-rate.vue\"\n    )\n  },\n  \"rf-badge\": function() {\n    return import(\n      /* webpackChunkName: \"components/rf-badge/rf-badge\" */ \"@/components/rf-badge/rf-badge.vue\"\n    )\n  },\n  \"rf-loading\": function() {\n    return import(\n      /* webpackChunkName: \"components/rf-loading/rf-loading\" */ \"@/components/rf-loading/rf-loading.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = parseFloat(_vm.productDetail.market_price)\n  var m1 = parseFloat(_vm.productDetail.price)\n  var m2 = parseFloat(_vm.productDetail.market_price)\n  var m3 = parseFloat(_vm.productDetail.price)\n\n  var f0 = _vm._f(\"discountFilter\")(\n    (_vm.currentSkuPrice || _vm.productDetail.price) /\n      _vm.productDetail.market_price\n  )\n\n  var m4 = parseInt(_vm.productDetail.is_stock_visible, 10)\n  var m5 = parseInt(_vm.currentStock || _vm.productDetail.stock, 10)\n\n  var l0 = _vm.__map(_vm.specList, function(item, index) {\n    var m6 = parseInt(item.show_type)\n    var m7 = parseInt(item.show_type)\n    var m8 = parseInt(item.show_type)\n    var m9 = parseInt(item.show_type)\n    return {\n      $orig: _vm.__get_orig(item),\n      m6: m6,\n      m7: m7,\n      m8: m8,\n      m9: m9\n    }\n  })\n\n  var m10 = parseInt(_vm.currentStock || _vm.productDetail.stock, 10)\n\n  var l1 = _vm.__map(_vm.productDetail.canReceiveCoupon, function(item, index) {\n    var m11 = parseInt(item.range_type, 10)\n\n    var f1 = _vm._f(\"time\")(item.start_time)\n\n    var f2 = _vm._f(\"time\")(item.end_time)\n\n    var m12 = parseInt(item.range_type, 10)\n    var m13 = parseInt(item.max_fetch, 10)\n    return {\n      $orig: _vm.__get_orig(item),\n      m11: m11,\n      f1: f1,\n      f2: f2,\n      m12: m12,\n      m13: m13\n    }\n  })\n\n  var m14 = parseInt(_vm.productDetail.max_buy, 10)\n\n  var f3 = _vm._f(\"pointExchangeTypeFilter\")(\n    _vm.productDetail.point_exchange_type\n  )\n\n  var m15 = parseInt(_vm.productDetail.give_point, 10)\n\n  var f4 = _vm._f(\"integralGiveTypeFilter\")(\n    _vm.productDetail.integral_give_type\n  )\n\n  var m16 = parseInt(_vm.productDetail.give_point, 10)\n\n  var f5 = _vm._f(\"givePointFilter\")(_vm.productDetail)\n\n  var m17 = parseInt(\n    _vm.productDetail.ladderPreferential &&\n      _vm.productDetail.ladderPreferential[0] &&\n      _vm.productDetail.ladderPreferential[0].type,\n    10\n  )\n  var m18 = parseInt(\n    _vm.productDetail.ladderPreferential &&\n      _vm.productDetail.ladderPreferential[0] &&\n      _vm.productDetail.ladderPreferential[0].type,\n    10\n  )\n  var m19 = parseInt(\n    _vm.productDetail.ladderPreferential &&\n      _vm.productDetail.ladderPreferential[0] &&\n      _vm.productDetail.ladderPreferential[0].price,\n    10\n  )\n\n  var l2 = _vm.__map(_vm.productDetail.ladderPreferential, function(\n    item,\n    index\n  ) {\n    var m20 = parseInt(item.type, 10)\n    var m21 = parseInt(item.type, 10)\n    var m22 = parseInt(item.price, 10)\n    return {\n      $orig: _vm.__get_orig(item),\n      m20: m20,\n      m21: m21,\n      m22: m22\n    }\n  })\n\n  var f6 = _vm._f(\"time\")(\n    _vm.productDetail.evaluate &&\n      _vm.productDetail.evaluate[0] &&\n      _vm.productDetail.evaluate[0].created_at\n  )\n\n  var f7 = _vm._f(\"formatRichText\")(_vm.productDetail.intro)\n\n  var m23 = parseInt(this.currentStock || this.productDetail.stock, 10)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        f0: f0,\n        m4: m4,\n        m5: m5,\n        l0: l0,\n        m10: m10,\n        l1: l1,\n        m14: m14,\n        f3: f3,\n        m15: m15,\n        f4: f4,\n        m16: m16,\n        f5: f5,\n        m17: m17,\n        m18: m18,\n        m19: m19,\n        l2: l2,\n        f6: f6,\n        f7: f7,\n        m23: m23\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\t/**\n\t * @des 商品详情\n\t *\n\t * @author stav stavyan@qq.com\n\t * @date 2020-03-23 15:04\n\t * @copyright 2019\n\t */\n\timport {cartItemCount, cartItemCreate, productDetail} from '@/api/product';\n\timport rfNumberBox from '@/components/rf-number-box';\n  import {collectCreate, collectDel, transmitCreate} from '@/api/basic';\n  import moment from '@/common/moment';\n\timport {couponReceive} from '@/api/userInfo';\n\timport rfRate from '@/components/rf-rate/rf-rate';\n\timport rfBadge from '@/components/rf-badge/rf-badge'\n\timport uniTag from '@/components/uni-tag/uni-tag'\n\timport rfNoData from '@/components/rf-no-data'\n\timport rfItemPopup from '@/components/rf-item-popup'\n\texport default{\n\t\tcomponents: {\n\t\t\trfItemPopup,\n\t\t\trfBadge,\n\t\t\trfRate,\n\t\t\trfNumberBox,\n\t\t\tuniTag,\n\t\t\trfNoData\n\t\t},\n\t\tfilters: {\n\t\t    /**\n\t\t\t * 处理富文本里的图片宽度自适应\n\t\t\t * 1.去掉img标签里的style、width、height属性\n\t\t\t * 2.img标签添加style属性：max-width:100%;height:auto\n\t\t\t * 3.修改所有style里的width属性为max-width:100%\n\t\t\t * 4.去掉<br/>标签\n\t\t\t * @param html\n\t\t\t * @returns {void|string|*}\n\t\t\t */\n\t\t\tformatRichText (html) { //控制小程序中图片大小\n        if (html) {\n            let newContent= html.replace(/<img[^>]*>/gi,function(match,capture){\n                match = match.replace(/style=\"[^\"]+\"/gi, '').replace(/style='[^']+'/gi, '');\n                match = match.replace(/width=\"[^\"]+\"/gi, '').replace(/width='[^']+'/gi, '');\n                match = match.replace(/height=\"[^\"]+\"/gi, '').replace(/height='[^']+'/gi, '');\n                return match;\n            });\n            newContent = newContent.replace(/style=\"[^\"]+\"/gi,function(match,capture){\n                match = match.replace(/width:[^;]+;/gi, 'max-width:100%;').replace(/width:[^;]+;/gi, 'max-width:100%;');\n                return match;\n            });\n            newContent = newContent.replace(/<br[^>]*\\/>/gi, '');\n            newContent = newContent.replace(/\\<img/gi, '<img style=\"max-width:100%;height:auto;display:inline-block;margin:10rpx auto;\"');\n            return newContent;\n        } else {\n            return '暂无商品详情'\n        }\n\t\t\t},\n\t\t\ttime(val) {\n\t\t\t\treturn moment(val * 1000).format('YYYY-MM-DD HH:mm')\n\t\t\t},\n\t\t\tdiscountFilter (val) {\n\t\t    return (val * 10).toFixed(1);\n\t\t\t},\n\t\t\tpointExchangeTypeFilter(val) {\n\t\t\t\tconst type = ['', '非积分兑换', '积分加现金', '积分兑换或直接购买', '只支持积分兑换'];\n\t\t\t\treturn type[parseInt(val, 10)];\n\t\t\t},\n\t\t\tintegralGiveTypeFilter(val) {\n\t\t\t\tconst type = ['固定积分', '百分比'];\n\t\t\t\treturn type[parseInt(val, 10)];\n\t\t\t},\n\t\t\tgivePointFilter(val) {\n\t\t\t\treturn parseInt(val.integral_give_type, 10) === 1 ?\n\t\t\t\t\t\tMath.round(parseInt(val.give_point, 10) / 100 * parseInt(val.minSkuPrice, 10)) :\n\t\t\t\t\t\tparseInt(val.give_point, 10);\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tserviceClass: 'none',//服务弹窗css类，控制开关动画\n\t\t\t\tladderPreferentialClass: 'none',//服务弹窗css类，控制开关动画\n\t\t\t\tattributeValueClass: 'none',//scss类，控制开关动画\n\t\t\t\tspecClass: 'none',\n\t\t\t\tcouponClass: 'none',\n\t\t\t\tcartType: null,\n\t\t\t\tmaskState: 0, //优惠券面板显示状态\n\t\t\t\tcouponList: [],\n\t\t\t\tproductDetail: {},\n\t\t\t\tstyleObject: {},\n\t\t\t\tshowTypeImage: null,\n\t\t\t\tspecSelected:[],\n\t\t\t\tfavorite: false,\n\t\t\t\tshareList: [],\n\t\t\t\tcurrentStock: null,\n\t\t\t\tcurrentSkuPrice: null,\n\t\t\t\tspecList: [],\n\t\t\t\tspecChildList: [],\n\t\t\t\tcartCount: 1,\n\t\t\t\tproduct_id: null,\n\t\t\t\tevaluateList: [],\n\t\t\t\thasLogin: null,\n\t\t\t\tcartNum: null,\n\t\t\t\tloading: true,\n        errorInfo: '',\n\t\t\t\theadImg: this.$mAssetsPath.headImg,\n\t\t\t\tisPointExchange: false\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tbuyBtnDisabled () {\n\t\t\t    return parseInt(this.currentStock || this.productDetail.stock, 10) === 0;\n\t\t\t},\n\t\t\taddCartBtnDisabled () {\n\t\t    return this.productDetail.point_exchange_type == 2 ||\n\t\t\t    this.productDetail.point_exchange_type == 4 ||\n\t\t\t    (this.currentStock || this.productDetail.stock) == 0 ||\n\t\t\t    this.productDetail.is_virtual == 1;\n\t\t\t}\n\t\t},\n\t\tasync onLoad(options){\n\t\t\tthis.initData(options.id);\n\t\t\t//规格 默认选中第一条\n\t\t\tthis.specList.forEach(item=>{\n\t\t\t\tfor(let cItem of this.specChildList){\n\t\t\t\t\tif(cItem.pid === item.id){\n\t\t\t\t\t\tthis.$set(cItem, 'selected', true);\n\t\t\t\t\t\tthis.specSelected.push(cItem);\n\t\t\t\t\t\tbreak; //forEach不能使用break\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.product_id = options.id;\n\t\t},\n\t\tonShareAppMessage() {\n\n      this.$http.post(`${transmitCreate}`, {\n        topic_type: 'product',\n        topic_id: this.product_id\n      }).then(()=>{\n        return {\n          title: this.productDetail.name,\n          path: '/pages/product/product?id=' + this.product_id\n        }\n      })\n\n\n\n\n\n\n\n\t\t},\n\t\tmethods:{\n\t\t\tnavTo (route) {\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tthis.$mHelper.backToLogin();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$mRouter.push({route});\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 弹窗\n\t\t\tshowPopupService(type, list) {\n\t\t\t\tif(list.length === 0) return;\n\t\t\t\tthis[type] = 'show';\n\t\t\t},\n\t\t\tshareToH5() {\n\t\t\t\tthis.$mHelper.toast('请复制连接进行分享');\n\t\t\t},\n\t\t\t//关闭服务弹窗\n\t\t\thideService() {\n\t\t\t\tthis.specClass = 'none';\n\t\t\t\tthis.couponClass = 'none';\n\t\t\t\tthis.serviceClass = 'none';\n\t\t\t\tthis.ladderPreferentialClass = 'none';\n\t\t\t\tthis.attributeValueClass = 'none';\n\t\t\t},\n\t\t\t// 获取优惠券\n\t\t\tasync getCoupon(item) {\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tthis.maskState = 0;\n\t\t\t\t\tthis.$mHelper.backToLogin();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tawait this.$http.post(`${couponReceive}`, {\n\t\t\t\t\tid: item.id\n\t\t\t\t}).then(() => {\n\t\t\t    this.$mHelper.toast('领取成功');\n\t\t\t\t\tthis.maskState = 0;\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.maskState = 0;\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 跳转至评价列表\n\t\t\ttoEvaluateList () {\n\t\t\t\tif (!this.productDetail.evaluateStat || parseInt(this.productDetail.comment_num, 10) === 0) return;\n\t\t\t\tthis.$mRouter.push({route: `/pages/order/evaluation/list?comment_num=${this.productDetail.comment_num}&evaluateStat=${JSON.stringify(this.productDetail.evaluateStat)}`});\n\t\t\t},\n\t\t\tnumberChange(data){\n\t\t\t\tthis.cartCount = data.number;\n\t\t\t},\n\t\t\t// 数据初始化\n\t\t\tasync initData(id) {\n\t\t\t\tthis.hasLogin = this.$mStore.getters.hasLogin;\n\t\t\t\tthis.cartNum = uni.getStorageSync('cartNum');\n\t\t\t\tthis.productDetail.id = id;\n\t\t\t\tawait this.getProductDetail(id);\n\t\t\t},\n\t\t\t// 获取产品详情\n\t\t\tasync getProductDetail (id) {\n\t\t\t\tawait this.$http.get(`${productDetail}`, {\n\t\t\t\t\tid\n\t\t\t\t}).then(async r => {\n\t\t\t\t\tthis.loading = false;\n          this.productDetail = r.data;\n          this.evaluateList = await r.data.evaluate;\n          this.favorite = this.productDetail.myCollect ? true : false;\n          this.specList = this.productDetail.base_attribute_format\n          this.specList.forEach(item => {\n              this.specChildList = [...this.specChildList, ...item.value]\n          });\n          /**\n           * 修复选择规格存储错误\n           * 将这几行代码替换即可\n           * 选择的规格存放在specSelected中\n           */\n          this.specSelected = [];\n          r.data.base_attribute_format.forEach(item => {\n              item.value[0].selected = true\n              this.specSelected.push(item.value[0]);\n          });\n          let skuStr = [];\n          this.specSelected.forEach(item => {\n              skuStr.push(item.base_spec_value_id)\n          })\n          this.productDetail.sku.forEach(item => {\n              if (item.data === skuStr.join('-')) {\n                  this.currentStock = item.stock;\n                  this.currentSkuPrice = item.price;\n                  return;\n              }\n          })\n        }).catch(err => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.errorInfo = err;\n\t\t\t\t})\n\t\t\t},\n\t\t\t//规格弹窗开关\n\t\t\ttoggleSpec() {\n\t\t\t\tif (!this.productDetail.id) return;\n\t\t\t\tif(this.specClass === 'show'){\n\t\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t\t\tthis.$mHelper.backToLogin();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n          if (this.specSelected.length < this.productDetail.base_attribute_format.length){\n\t\t\t\t    this.$mHelper.toast('请先选择规格');\n            return;\n          }\n          const skuStr = [];\n          let sku_id = '';\n          this.specSelected.forEach(item => {\n              skuStr.push(item.base_spec_value_id)\n          })\n          this.productDetail.sku.forEach(item => {\n            if (item.data === skuStr.join('-')) {\n              sku_id = item.id;\n              this.currentStock = item.stock;\n              this.currentSkuPrice = item.price;\n            }\n          });\n\t\t\t\t\tif (parseInt(this.currentStock, 10) === 0) {\n\t\t\t\t    this.$mHelper.toast('库存不足');\n\t\t\t\t    return;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.cartType === 'cart') {\n\t\t\t\t\t\tthis.handleCartItemCreate(sku_id);\n\t\t\t\t\t} else if (this.cartType === 'buy') {\n\t\t\t\t\t\tthis.buy(sku_id);\n\t\t\t\t\t}\n\t\t\t\t\tthis.cartType = null;\n\t\t\t\t\tthis.specClass = 'hide';\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t\t}, 250);\n\t\t\t\t} else if(this.specClass === 'none'){\n\t\t\t\t\tthis.specClass = 'show';\n\t\t\t\t}\n\t\t\t},\n\t\t\thideSpec() {\n\t\t\t\tthis.specClass = 'hide';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t}, 250);\n\t\t\t},\n\t\t\t// 添加商品至购物车\n\t\t\tasync handleCartItemCreate (sku_id) {\n\t\t\t\tawait this.$http.post(`${cartItemCreate}`, {\n\t\t\t\t\tsku_id,\n\t\t\t\t\tnum: this.cartCount\n\t\t\t\t}).then(async () => {\n\t\t\t\t\tawait this.$http.get(`${cartItemCount}`).then(async r => {\n\t\t\t\t\t\tuni.setStorageSync('cartNum', r.data);\n\t\t\t\t\t\tthis.cartNum = r.data;\n\t\t\t\t\t\tawait uni.setTabBarBadge({\n\t\t\t\t\t\t\tindex: this.$mConstDataConfig.cartIndex,\n\t\t\t\t\t\t\ttext: r.data\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tthis.$mHelper.toast('添加成功，在购物车等');\n\t\t\t\t})\n\t\t\t},\n\t\t\t//选择规格\n\t\t\tselectSpec(index, pid, type){\n\t\t\t\tlet list = this.specChildList;\n\t\t\t\tlist.forEach(item=>{\n\t\t\t\t\tif(item.base_spec_id === pid){\n\t\t\t\t\t\tthis.$set(item, 'selected', false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (parseInt(type, 10) === 3) {\n\t\t\t\t\tthis.showTypeImage = list[index].data;\n\t\t\t\t}\n\t\t\t\tif (parseInt(type, 10) === 2) {\n\t\t\t\t\tthis.styleObject = {\n\t\t\t\t\t\tcolor: list[index].data\n\t\t\t\t\t\t// border: `1px solid ${list[index].data}`,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.$set(list[index], 'selected', true);\n\t\t\t\t//存储已选择\n\t\t\t\t/**\n\t\t\t\t * 修复选择规格存储错误\n\t\t\t\t * 将这几行代码替换即可\n\t\t\t\t * 选择的规格存放在specSelected中\n\t\t\t\t */\n\t\t\t\tthis.specSelected = [];\n\t\t\t\tlist.forEach(item=>{\n\t\t\t\t\tif(item.selected === true){\n\t\t\t\t\t\tthis.specSelected.push(item);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tlet skuStr = []\n\t\t\t\tthis.specSelected.forEach(item => {\n\t\t\t\t\tskuStr.push(item.base_spec_value_id)\n\t\t\t\t})\n\t\t\t\tthis.productDetail.sku.forEach(item => {\n\t\t\t\t\t\tif (item.data === skuStr.join('-')) {\n\t\t\t\t\t\t\tthis.currentStock = item.stock;\n              this.currentSkuPrice = item.price;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\t// 收藏\n\t\t\tasync toFavorite() {\n\t\t\t\tif (!this.productDetail.id) return;\n\t\t\t\tif (!this.$mStore.getters.hasLogin) {\n\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t\tthis.$mHelper.backToLogin();\n\t\t\t\t} else {\n          this.favorite ? this.handleCollectDel() : this.handleCollectCreate();\n        }\n\t\t\t},\n\t\t\t// 收藏商品\n\t\t\tasync handleCollectCreate() {\n\t\t\t\tawait this.$http.post(`${collectCreate}`, {\n\t\t\t\t\ttopic_id: this.product_id,\n\t\t\t\t\ttopic_type: 'product'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.favorite = !this.favorite;\n\t\t\t\t\tthis.$mHelper.toast('收藏成功');\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 取消收藏商品\n\t\t\tasync handleCollectDel() {\n\t\t\t\tawait this.$http.delete(`${collectDel}?id=${this.productDetail.myCollect.id}`).then(() => {\n\t\t\t\t\tthis.favorite = !this.favorite;\n\t\t\t\t\tthis.$mHelper.toast('取消收藏成功');\n\t\t\t\t})\n\t\t\t},\n\t\t\tasync buy(sku_id) {\n\t\t\t\tconst list = {};\n\t\t\t\tconst data = {};\n\t\t\t\tdata.sku_id = sku_id;\n\t\t\t\tdata.num = this.cartCount;\n\t\t\t\tif (this.productDetail.point_exchange_type == 2 || this.productDetail.point_exchange_type == 4 || (this.productDetail.point_exchange_type == 3 && this.isPointExchange)) {\n\t\t\t\t\tlist.type = 'point_exchange';\n\t\t\t\t} else {\n\t\t\t\t\tlist.type = 'buy_now';\n\t\t\t\t}\n\t\t\t\tlist.data = JSON.stringify(data);\n\t\t\t\tthis.$mRouter.push({route: `/pages/order/create/order?data=${JSON.stringify(list)}`});\n\t\t\t},\n\t\t\taddCart(type, isPointExchange){\n\t\t\t\tif (!this.productDetail.id) return;\n\t\t\t\tthis.specClass = 'show';\n\t\t\t\tthis.cartType = type;\n\t\t\t\tthis.isPointExchange = isPointExchange;\n\t\t\t},\n\t\t\tstopPrevent(){\n\t\t\t}\n\t\t}\n\t}\n","import mod from \"-!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&id=3c71abd6&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&id=3c71abd6&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1588225404684\n      var cssReload = require(\"C:/Users/xinchuang/Desktop/网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}