{"version":3,"sources":["webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/main.js","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?d30a","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?9bf6","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?9356","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?7635","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?5df7","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue?44e9"],"names":["createPage","Page","components","rfItemPopup","rfBadge","rfRate","rfNumberBox","uniTag","rfNoData","filters","formatRichText","html","newContent","replace","match","capture","time","val","format","discountFilter","toFixed","pointExchangeTypeFilter","type","parseInt","integralGiveTypeFilter","givePointFilter","integral_give_type","Math","round","give_point","minSkuPrice","data","serviceClass","ladderPreferentialClass","attributeValueClass","specClass","couponClass","cartType","maskState","couponList","productDetail","attributeList","styleObject","showTypeImage","specSelected","favorite","shareList","currentStock","currentSkuPrice","specList","specChildList","cartCount","product_id","evaluateList","hasLogin","cartNum","loading","detailBannerImgs","commentInfo","commentCount","productEvaluateCount","serviceTags","errorInfo","headImg","$mAssetsPath","isPointExchange","computed","buyBtnDisabled","residue","addCartBtnDisabled","point_exchange_type","is_virtual","onLoad","options","initData","id","forEach","item","cItem","pid","$set","push","onShareAppMessage","$http","post","transmitCreate","topic_type","topic_id","then","title","name","path","methods","navTo","route","$mHelper","backToLogin","$mRouter","showPopupService","list","length","shareToH5","toast","hideService","getCoupon","couponReceive","catch","toEvaluateList","console","log","size","keyName","r","JSON","stringify","numberChange","number","$mStore","getters","uni","getStorageSync","getProductDetail","williamGoods","split","evaluateTotalCount","goodsAttributeList","alreadyCollect","base_attribute_format","value","selected","skuStr","base_spec_value_id","sku","join","stock","price","err","toggleSpec","handleCartItemCreate","sku_id","buy","setTimeout","hideSpec","cartItemCreate","num","get","cartItemCount","setStorageSync","setTabBarBadge","index","$mConstDataConfig","cartIndex","text","selectSpec","base_spec_id","color","toFavorite","handleCollectDel","handleCollectCreate","collectCreate","collectId","collectDel","goodsId","exchangeType","addCart","stopPrevent"],"mappings":"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","file":"pages/product/product.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/product/product.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./product.vue?vue&type=template&id=3c71abd6&scoped=true&\"\nvar renderjs\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&id=3c71abd6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c71abd6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uniapp/stavyan-tinyshop_1.1.11_example/pages/product/product.vue\"\nexport default component.exports","export * from \"-!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=template&id=3c71abd6&scoped=true&\"","var components = {\n  \"uni-tag\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-tag/uni-tag\" */ \"@/components/uni-tag/uni-tag.vue\"\n    )\n  },\n  \"rf-rate\": function() {\n    return import(\n      /* webpackChunkName: \"components/rf-rate/rf-rate\" */ \"@/components/rf-rate/rf-rate.vue\"\n    )\n  },\n  \"rf-badge\": function() {\n    return import(\n      /* webpackChunkName: \"components/rf-badge/rf-badge\" */ \"@/components/rf-badge/rf-badge.vue\"\n    )\n  },\n  \"rf-loading\": function() {\n    return import(\n      /* webpackChunkName: \"components/rf-loading/rf-loading\" */ \"@/components/rf-loading/rf-loading.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = parseFloat(_vm.productDetail.marketSell)\n  var m1 = parseFloat(_vm.productDetail.sell)\n  var m2 = parseFloat(_vm.productDetail.marketSell)\n  var m3 = parseFloat(_vm.productDetail.sell)\n\n  var f0 = _vm._f(\"discountFilter\")(\n    (_vm.currentSkuPrice || _vm.productDetail.sell) /\n      _vm.productDetail.marketSell\n  )\n\n  var m4 = parseInt(_vm.productDetail.residue, 10)\n  var m5 = parseInt(_vm.currentStock || _vm.productDetail.residue, 10)\n\n  var l0 = _vm.__map(_vm.specList, function(item, index) {\n    var m6 = parseInt(item.show_type)\n    var m7 = parseInt(item.show_type)\n    var m8 = parseInt(item.show_type)\n    var m9 = parseInt(item.show_type)\n    return {\n      $orig: _vm.__get_orig(item),\n      m6: m6,\n      m7: m7,\n      m8: m8,\n      m9: m9\n    }\n  })\n\n  var m10 = parseInt(_vm.currentStock || _vm.productDetail.residue, 10)\n\n  var l1 = _vm.__map(_vm.productDetail.canReceiveCoupon, function(item, index) {\n    var m11 = parseInt(item.range_type, 10)\n\n    var f1 = _vm._f(\"time\")(item.start_time)\n\n    var f2 = _vm._f(\"time\")(item.end_time)\n\n    var m12 = parseInt(item.range_type, 10)\n    var m13 = parseInt(item.max_fetch, 10)\n    return {\n      $orig: _vm.__get_orig(item),\n      m11: m11,\n      f1: f1,\n      f2: f2,\n      m12: m12,\n      m13: m13\n    }\n  })\n\n  var m14 = parseInt(_vm.productDetail.maxBuy, 10)\n\n  var f3 = _vm._f(\"pointExchangeTypeFilter\")(_vm.productDetail.exchangeType)\n\n  var m15 = parseInt(_vm.productDetail.givePoint, 10)\n\n  var f4 = _vm._f(\"integralGiveTypeFilter\")(\n    _vm.productDetail.integral_give_type\n  )\n\n  var m16 = parseInt(_vm.productDetail.givePoint, 10)\n\n  var f5 = _vm._f(\"givePointFilter\")(_vm.productDetail)\n\n  var f6 = _vm._f(\"formatRichText\")(_vm.productDetail.detail)\n\n  var m17 = parseInt(this.currentStock || this.productDetail.residue, 10)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        f0: f0,\n        m4: m4,\n        m5: m5,\n        l0: l0,\n        m10: m10,\n        l1: l1,\n        m14: m14,\n        f3: f3,\n        m15: m15,\n        f4: f4,\n        m16: m16,\n        f5: f5,\n        f6: f6,\n        m17: m17\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\t/**\n\t * @des 商品详情\n\t *\n\t * @author stav stavyan@qq.com\n\t * @date 2020-03-23 15:04\n\t * @copyright 2019\n\t */\n\timport {cartItemCount, cartItemCreate, productDetail,productEvaluateCount} from '@/api/product';\n\timport rfNumberBox from '@/components/rf-number-box';\n    import {collectCreate, collectDel, transmitCreate} from '@/api/basic';\n    import moment from '@/common/moment';\n\timport {couponReceive} from '@/api/userInfo';\n\timport rfRate from '@/components/rf-rate/rf-rate';\n\timport rfBadge from '@/components/rf-badge/rf-badge'\n\timport uniTag from '@/components/uni-tag/uni-tag'\n\timport rfNoData from '@/components/rf-no-data'\n\timport rfItemPopup from '@/components/rf-item-popup'\n\texport default{\n\t\tcomponents: {\n\t\t\trfItemPopup,\n\t\t\trfBadge,\n\t\t\trfRate,\n\t\t\trfNumberBox,\n\t\t\tuniTag,\n\t\t\trfNoData\n\t\t},\n\t\tfilters: {\n\t\t    /**\n\t\t\t * 处理富文本里的图片宽度自适应\n\t\t\t * 1.去掉img标签里的style、width、height属性\n\t\t\t * 2.img标签添加style属性：max-width:100%;height:auto\n\t\t\t * 3.修改所有style里的width属性为max-width:100%\n\t\t\t * 4.去掉<br/>标签\n\t\t\t * @param html\n\t\t\t * @returns {void|string|*}\n\t\t\t */\n\t\t\tformatRichText (html) { //控制小程序中图片大小\n        if (html) {\n            let newContent= html.replace(/<img[^>]*>/gi,function(match,capture){\n                match = match.replace(/style=\"[^\"]+\"/gi, '').replace(/style='[^']+'/gi, '');\n                match = match.replace(/width=\"[^\"]+\"/gi, '').replace(/width='[^']+'/gi, '');\n                match = match.replace(/height=\"[^\"]+\"/gi, '').replace(/height='[^']+'/gi, '');\n                return match;\n            });\n            newContent = newContent.replace(/style=\"[^\"]+\"/gi,function(match,capture){\n                match = match.replace(/width:[^;]+;/gi, 'max-width:100%;').replace(/width:[^;]+;/gi, 'max-width:100%;');\n                return match;\n            });\n            newContent = newContent.replace(/<br[^>]*\\/>/gi, '');\n            newContent = newContent.replace(/\\<img/gi, '<img style=\"max-width:100%;height:auto;display:inline-block;margin:10rpx auto;\"');\n            return newContent;\n        } else {\n            return '暂无商品详情'\n        }\n\t\t\t},\n\t\t\ttime(val) {\n\t\t\t\treturn moment(val * 1000).format('YYYY-MM-DD HH:mm')\n\t\t\t},\n\t\t\tdiscountFilter (val) {\n\t\t    return (val * 10).toFixed(1);\n\t\t\t},\n\t\t\tpointExchangeTypeFilter(val) {\n\t\t\t\tconst type = ['', '非积分兑换', '积分加现金', '积分兑换或直接购买', '只支持积分兑换'];\n\t\t\t\treturn type[parseInt(val, 10)];\n\t\t\t},\n\t\t\tintegralGiveTypeFilter(val) {\n\t\t\t\tconst type = ['固定积分', '百分比'];\n\t\t\t\treturn type[parseInt(val, 10)];\n\t\t\t},\n\t\t\tgivePointFilter(val) {\n\t\t\t\treturn parseInt(val.integral_give_type, 10) === 1 ?\n\t\t\t\t\t\tMath.round(parseInt(val.give_point, 10) / 100 * parseInt(val.minSkuPrice, 10)) :\n\t\t\t\t\t\tparseInt(val.give_point, 10);\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tserviceClass: 'none',//服务弹窗css类，控制开关动画\n\t\t\t\tladderPreferentialClass: 'none',//服务弹窗css类，控制开关动画\n\t\t\t\tattributeValueClass: 'none',//scss类，控制开关动画\n\t\t\t\tspecClass: 'none',\n\t\t\t\tcouponClass: 'none',\n\t\t\t\tcartType: null,\n\t\t\t\tmaskState: 0, //优惠券面板显示状态\n\t\t\t\tcouponList: [],\n\t\t\t\tproductDetail: {},\n\t\t\t\tattributeList : [],\n\t\t\t\tstyleObject: {},\n\t\t\t\tshowTypeImage: null,\n\t\t\t\tspecSelected:[],\n\t\t\t\tfavorite: false,\n\t\t\t\tshareList: [],\n\t\t\t\tcurrentStock: null,\n\t\t\t\tcurrentSkuPrice: null,\n\t\t\t\tspecList: [],\n\t\t\t\tspecChildList: [],\n\t\t\t\tcartCount: 1,\n\t\t\t\tproduct_id: null,\n\t\t\t\tevaluateList: [],\n\t\t\t\thasLogin: null,\n\t\t\t\tcartNum: null,\n\t\t\t\tloading: true,\n\t\t\t\tdetailBannerImgs : [],  // 轮播图\n\t\t\t\tcommentInfo: [],  // 商品评价\n\t\t\t\tcommentCount : 0,  // 评价数量\n\t\t\t\tproductEvaluateCount: {},  // 评价总数\n\t\t\t\tserviceTags: [],  // 商品承诺级服务\n\t\t\t\terrorInfo: '',\n\t\t\t\theadImg: this.$mAssetsPath.headImg,\n\t\t\t\tisPointExchange: false\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tbuyBtnDisabled () {\n\t\t\t    return parseInt(this.currentStock || this.productDetail.residue, 10) === 0;\n\t\t\t},\n\t\t\taddCartBtnDisabled () {\n\t\t    return this.productDetail.point_exchange_type == 2 ||\n\t\t\t    this.productDetail.point_exchange_type == 4 ||\n\t\t\t    (this.currentStock || this.productDetail.residue) == 0 ||\n\t\t\t    this.productDetail.is_virtual == 1;\n\t\t\t}\n\t\t},\n\t\tasync onLoad(options){\n\t\t\tthis.initData(options.id);\n\t\t\t//规格 默认选中第一条\n\t\t\tthis.specList.forEach(item=>{\n\t\t\t\tfor(let cItem of this.specChildList){\n\t\t\t\t\tif(cItem.pid === item.id){\n\t\t\t\t\t\tthis.$set(cItem, 'selected', true);\n\t\t\t\t\t\tthis.specSelected.push(cItem);\n\t\t\t\t\t\tbreak; //forEach不能使用break\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.product_id = options.id;\n\t\t},\n\t\tonShareAppMessage() {\n\n      this.$http.post(`${transmitCreate}`, {\n        topic_type: 'product',\n        topic_id: this.product_id\n      }).then(()=>{\n        return {\n          title: this.productDetail.name,\n          path: '/pages/product/product?id=' + this.product_id\n        }\n      })\n\n\n\n\n\n\n\n\t\t},\n\t\tmethods:{\n\t\t\tnavTo (route) {\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tthis.$mHelper.backToLogin();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$mRouter.push({route});\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 弹窗\n\t\t\tshowPopupService(type, list) {\n\t\t\t\tif(list.length === 0) return;\n\t\t\t\tthis[type] = 'show';\n\t\t\t},\n\t\t\tshareToH5() {\n\t\t\t\tthis.$mHelper.toast('请复制连接进行分享');\n\t\t\t},\n\t\t\t//关闭服务弹窗\n\t\t\thideService() {\n\t\t\t\tthis.specClass = 'none';\n\t\t\t\tthis.couponClass = 'none';\n\t\t\t\tthis.serviceClass = 'none';\n\t\t\t\tthis.ladderPreferentialClass = 'none';\n\t\t\t\tthis.attributeValueClass = 'none';\n\t\t\t},\n\t\t\t// 获取优惠券\n\t\t\tasync getCoupon(item) {\n\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\tthis.maskState = 0;\n\t\t\t\t\tthis.$mHelper.backToLogin();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tawait this.$http.post(`${couponReceive}`, {\n\t\t\t\t\tid: item.id\n\t\t\t\t}).then(() => {\n\t\t\t    this.$mHelper.toast('领取成功');\n\t\t\t\t\tthis.maskState = 0;\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.maskState = 0;\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 跳转至评价列表\n\t\t\tasync toEvaluateList () {\n\t\t\t\tconsole.log('跳去列表 ================')\n\t\t\t\tif (!this.commentInfo || this.commentInfo.size == 0) return;\n\t\t\t\tawait this.$http.post(`${productEvaluateCount}`,{keyName : this.productDetail.id}).then(r =>{\n\t\t\t\t\tconsole.log(r)\n\t\t\t\t\tthis.productEvaluateCount = r.data\n\t\t\t\t})\n\t\t\t\t// this.$mRouter.push({route: `/pages/order/evaluation/list?comment_num=${this.commentCount}&evaluateStat=${JSON.stringify(this.productDetail.evaluateStat)}`});\n\t\t\t\tthis.$mRouter.push({route: `/pages/order/evaluation/list?goodsId=${this.productDetail.id}&productEvaluateCount=${JSON.stringify(this.productEvaluateCount)}`});\n\t\t\t},\n\t\t\tnumberChange(data){\n\t\t\t\tthis.cartCount = data.number;\n\t\t\t},\n\t\t\t// 数据初始化\n\t\t\tasync initData(id) {\n\t\t\t\tthis.hasLogin = this.$mStore.getters.hasLogin;\n\t\t\t\tthis.cartNum = uni.getStorageSync('cartNum');\n\t\t\t\tthis.productDetail.id = id;\n\t\t\t\tawait this.getProductDetail(id);\n\t\t\t},\n\t\t\t// 获取产品详情\n\t\t\tasync getProductDetail (id) {\n\t\t\t\tawait this.$http.post(`${productDetail}`, { keyName : \n\t\t\t\t\tid\n\t\t\t\t}).then(async r => {\n\t\t\t\tconsole.log(r.data)\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.productDetail = r.data.williamGoods;\n\t\t\t\tthis.serviceTags = r.data.williamGoods.serviceTags.split(\"-\")\n\t\t\t\tthis.detailBannerImgs = this.productDetail.detailBannerImgs.split(','); // 详情轮播图\n\t\t\t\tthis.commentInfo = r.data.evaluateList // 商品评价\n\t\t\t\tthis.commentCount = r.data.evaluateTotalCount  // 评价总数\n\t\t\t\tconsole.log(this.commentCount)\n\t\t\t\tthis.attributeList = r.data.goodsAttributeList   // 商品参数\n\t\t\t\tthis.evaluateList = await r.data.evaluateList;\n\t\t\t\tthis.favorite = r.data.alreadyCollect == 1 ? true : false;\n\t\t\t\tthis.specList = this.productDetail.base_attribute_format\n\t\t\t\tthis.specList.forEach(item => {\n\t\t\t\tthis.specChildList = [...this.specChildList, ...item.value]\n          });\n          /**\n           * 修复选择规格存储错误\n           * 将这几行代码替换即可\n           * 选择的规格存放在specSelected中\n           */\n          this.specSelected = [];\n          r.data.base_attribute_format.forEach(item => {\n              item.value[0].selected = true\n              this.specSelected.push(item.value[0]);\n          });\n          let skuStr = [];\n          this.specSelected.forEach(item => {\n              skuStr.push(item.base_spec_value_id)\n          })\n          this.productDetail.sku.forEach(item => {\n              if (item.data === skuStr.join('-')) {\n                  this.currentStock = item.stock;\n                  this.currentSkuPrice = item.price;\n                  return;\n              }\n          })\n        }).catch(err => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.errorInfo = err;\n\t\t\t\t})\n\t\t\t},\n\t\t\t//规格弹窗开关\n\t\t\ttoggleSpec() {\n\t\t\t\tconsole.log('===toggleSpec ====')\n\t\t\t\tif (!this.productDetail.id) return;\n\t\t\t\tif(this.specClass === 'show'){\n\t\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t\t\tthis.$mHelper.backToLogin();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t//  SKU 先注释掉,有需求再添加\n        //   if (this.specSelected.length < this.productDetail.base_attribute_format.length){\n\t\t\t\t    // this.$mHelper.toast('请先选择规格');\n        //     return;\n        //   }\n          // const skuStr = [];\n          // let sku_id = '';\n          // this.specSelected.forEach(item => {\n          //     skuStr.push(item.base_spec_value_id)\n          // })\n          // this.productDetail.sku.forEach(item => {\n          //   if (item.data === skuStr.join('-')) {\n          //     sku_id = item.id;\n          //     this.currentStock = item.stock;\n          //     this.currentSkuPrice = item.price;\n          //   }\n          // });\n\t\t\t\t\tif (parseInt(this.currentStock, 10) === 0) {\n\t\t\t\t    this.$mHelper.toast('库存不足');\n\t\t\t\t    return;\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log('购物类型',this.cartType)\n\t\t\t\t\tif (this.cartType === 'cart') {\n\t\t\t\t\t\t// 需要调整\n\t\t\t\t\t\tthis.handleCartItemCreate(sku_id);\n\t\t\t\t\t} else if (this.cartType === 'buy') {\n\t\t\t\t\t\t// 暂时使用 goodsId\n\t\t\t\t\t\t// this.buy(sku_id);\n\t\t\t\t\t\tthis.buy(this.productDetail.id);\n\t\t\t\t\t}\n\t\t\t\t\tthis.cartType = null;\n\t\t\t\t\tthis.specClass = 'hide';\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t\t}, 250);\n\t\t\t\t} else if(this.specClass === 'none'){\n\t\t\t\t\tthis.specClass = 'show';\n\t\t\t\t}\n\t\t\t},\n\t\t\thideSpec() {\n\t\t\t\tthis.specClass = 'hide';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t}, 250);\n\t\t\t},\n\t\t\t// 添加商品至购物车\n\t\t\tasync handleCartItemCreate (sku_id) {\n\t\t\t\tawait this.$http.post(`${cartItemCreate}`, {\n\t\t\t\t\tsku_id,\n\t\t\t\t\tnum: this.cartCount\n\t\t\t\t}).then(async () => {\n\t\t\t\t\tawait this.$http.get(`${cartItemCount}`).then(async r => {\n\t\t\t\t\t\tuni.setStorageSync('cartNum', r.data);\n\t\t\t\t\t\tthis.cartNum = r.data;\n\t\t\t\t\t\tawait uni.setTabBarBadge({\n\t\t\t\t\t\t\tindex: this.$mConstDataConfig.cartIndex,\n\t\t\t\t\t\t\ttext: r.data\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tthis.$mHelper.toast('添加成功，在购物车等');\n\t\t\t\t})\n\t\t\t},\n\t\t\t//选择规格\n\t\t\tselectSpec(index, pid, type){\n\t\t\t\tlet list = this.specChildList;\n\t\t\t\tlist.forEach(item=>{\n\t\t\t\t\tif(item.base_spec_id === pid){\n\t\t\t\t\t\tthis.$set(item, 'selected', false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (parseInt(type, 10) === 3) {\n\t\t\t\t\tthis.showTypeImage = list[index].data;\n\t\t\t\t}\n\t\t\t\tif (parseInt(type, 10) === 2) {\n\t\t\t\t\tthis.styleObject = {\n\t\t\t\t\t\tcolor: list[index].data\n\t\t\t\t\t\t// border: `1px solid ${list[index].data}`,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.$set(list[index], 'selected', true);\n\t\t\t\t//存储已选择\n\t\t\t\t/**\n\t\t\t\t * 修复选择规格存储错误\n\t\t\t\t * 将这几行代码替换即可\n\t\t\t\t * 选择的规格存放在specSelected中\n\t\t\t\t */\n\t\t\t\tthis.specSelected = [];\n\t\t\t\tlist.forEach(item=>{\n\t\t\t\t\tif(item.selected === true){\n\t\t\t\t\t\tthis.specSelected.push(item);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tlet skuStr = []\n\t\t\t\tthis.specSelected.forEach(item => {\n\t\t\t\t\tskuStr.push(item.base_spec_value_id)\n\t\t\t\t})\n\t\t\t\tthis.productDetail.sku.forEach(item => {\n\t\t\t\t\t\tif (item.data === skuStr.join('-')) {\n\t\t\t\t\t\t\tthis.currentStock = item.stock;\n              this.currentSkuPrice = item.price;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\t// 收藏\n\t\t\tasync toFavorite() {\n\t\t\t\tif (!this.productDetail.id) return;\n\t\t\t\tif (!this.$mStore.getters.hasLogin) {\n\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t\tthis.$mHelper.backToLogin();\n\t\t\t\t} else {\n          this.favorite ? this.handleCollectDel() : this.handleCollectCreate();\n        }\n\t\t\t},\n\t\t\t// 收藏商品\n\t\t\tasync handleCollectCreate() {\n\t\t\t\tawait this.$http.post(`${collectCreate}`, {\n\t\t\t\t\tcollectId: this.product_id,\n\t\t\t\t\ttype: '1'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.favorite = !this.favorite;\n\t\t\t\t\tthis.$mHelper.toast('收藏成功');\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 取消收藏商品\n\t\t\tasync handleCollectDel() {\n\t\t\t\tawait this.$http.post(`${collectDel}`,{\n\t\t\t\t\tcollectId: this.product_id,\n\t\t\t\t\ttype: '1'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.favorite = !this.favorite;\n\t\t\t\t\tthis.$mHelper.toast('取消收藏成功');\n\t\t\t\t})\n\t\t\t},\n\t\t\t//\n\t\t\t// async buy(sku_id) {\n\t\t\tasync buy(goodsId) {\t\n\t\t\t\tconsole.log('===================  sku_id')\n\t\t\t\tconst list = {};\n\t\t\t\tconst data = {};\n\t\t\t\t// data.sku_id = sku_id;\n\t\t\t\tdata.num = this.cartCount;\n\t\t\t\tif (this.productDetail.exchangeType == 2 || this.productDetail.exchangeType == 4 || (this.productDetail.exchangeType == 3 && this.isPointExchange)) {\n\t\t\t\t\tconsole.log('积分兑换商品')\n\t\t\t\t\tlist.type = 'point_exchange';\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('立即购买')\n\t\t\t\t\tlist.type = 'buy_now';\n\t\t\t\t}\n\t\t\t\tlist.data = JSON.stringify(data);\n\t\t\t\tthis.$mRouter.push({route: `/pages/order/create/order?data=${JSON.stringify(list)}`});\n\t\t\t},\n\t\t\taddCart(type, isPointExchange){\n\t\t\t\tconsole.log('type ',type)\n\t\t\t\tconsole.log('isPointExchange ',isPointExchange)\n\t\t\t\tconsole.log('===================addCart')\n\t\t\t\tif (!this.productDetail.id) return;\n\t\t\t\tthis.specClass = 'show';\n\t\t\t\tthis.cartType = type;\n\t\t\t\tthis.isPointExchange = isPointExchange;\n\t\t\t},\n\t\t\tstopPrevent(){\n\t\t\t}\n\t\t}\n\t}\n","import mod from \"-!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&id=3c71abd6&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&id=3c71abd6&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1590385268466\n      var cssReload = require(\"C:/Users/xinchuang/Desktop/网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}