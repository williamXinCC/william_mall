{"version":3,"sources":["webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/main.js","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/App.vue?9ea6","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/App.vue?a657","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/App.vue","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/App.vue?a5c7","webpack:///C:/Users/xinchuang/Desktop/uniapp/stavyan-tinyshop_1.1.11_example/App.vue?18f8"],"names":["uni","getNetworkType","success","res","store","dispatch","networkType","onNetworkStatusChange","Vue","prototype","$mStore","$http","http","$mConfig","$mAssetsPath","$mFormRule","$mRoutesConfig","$mConstDataConfig","$mWebsocketConfig","$mGraceChecker","$mHelper","$mRouter","$mPayment","component","rfImage","rfEmpty","rfLoading","rfLoadProgress","process","beforeEach","navType","to","route","undefined","JSON","stringify","login","path","getters","hasLogin","reLaunch","url","objParseUrlAndParam","main","console","log","requiresAuth","query","redirectUrl","state","forcedLogin","redirectTo","navigateTo","App","mpType","app","$mount","onLaunch","initData","onHide","methods","token","getStorageSync","initNavCartNum","initSystemInfo","getSystemInfo","e","StatusBar","statusBarHeight","custom","wx","getMenuButtonBoundingClientRect","Custom","CustomBar","top","cartNum","parseInt","setTabBarBadge","index","cartIndex","text","toString","removeTabBarBadge"],"mappings":";;;;;;;;;sDAAA,wCAAmB,iDAA4B;AAC/C;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,sF;;;;;;;;;AASA;AACAA,GAAG,CAACC,cAAJ,CAAmB;AACfC,SAAO,EAAE,iBAAUC,GAAV,EAAe;AAC1BC,mBAAMC,QAAN,CAAe,oBAAf,EAAoCF,GAAG,CAACG,WAAxC;AACG,GAHc,EAAnB;;;AAMAN,GAAG,CAACO,qBAAJ,CAA0B,UAAUJ,GAAV,EAAe;AACrCC,iBAAMC,QAAN,CAAe,oBAAf,EAAoCF,GAAG,CAACG,WAAxC;AACH,CAFD;;AAIA;AACAE,aAAIC,SAAJ,CAAcC,OAAd,GAAwBN,cAAxB;;AAEAI,aAAIC,SAAJ,CAAcE,KAAd,GAAsBC,aAAtB;AACAJ,aAAIC,SAAJ,CAAcI,QAAd,GAAyBA,oBAAzB;AACAL,aAAIC,SAAJ,CAAcK,YAAd,GAA6BA,qBAA7B;AACAN,aAAIC,SAAJ,CAAcM,UAAd,GAA2BA,uBAA3B;AACAP,aAAIC,SAAJ,CAAcO,cAAd,GAA+BA,qBAA/B;AACAR,aAAIC,SAAJ,CAAcQ,iBAAd,GAAkCA,wBAAlC;AACAT,aAAIC,SAAJ,CAAcS,iBAAd,GAAkCA,wBAAlC;;AAEAV,aAAIC,SAAJ,CAAcU,cAAd,GAA+BA,qBAA/B;AACAX,aAAIC,SAAJ,CAAcW,QAAd,GAAyBA,eAAzB;AACAZ,aAAIC,SAAJ,CAAcY,QAAd,GAAyBA,eAAzB;AACAb,aAAIC,SAAJ,CAAca,SAAd,GAA0BA,gBAA1B;AACA;;AAEAd,aAAIe,SAAJ,CAAc,SAAd,EAAyBC,OAAzB;AACAhB,aAAIe,SAAJ,CAAc,SAAd,EAAyBE,OAAzB;AACAjB,aAAIe,SAAJ,CAAc,WAAd,EAA2BG,SAA3B;AACAlB,aAAIe,SAAJ,CAAc,gBAAd,EAAgCI,cAAhC;;AAEA,IAAGC,KAAH,EAA0C,EAEzC;;AAED;AACAP,gBAASQ,UAAT,CAAoB,UAACC,OAAD,EAAUC,EAAV,EAAiB;AACpC,MAAIA,EAAE,CAACC,KAAH,KAAaC,SAAjB,EAA4B,MAAO,0BAA0BC,IAAI,CAACC,SAAL,CAAeJ,EAAf,CAAjC;AAC5B,MAAIA,EAAE,CAACC,KAAH,KAAahB,sBAAeoB,KAAf,CAAqBC,IAAlC,IAA0CjC,eAAMkC,OAAN,CAAcC,QAA5D,EAAsE;AACrEvC,OAAG,CAACwC,QAAJ,CAAa;AACZC,SAAG,EAAErB,gBAASsB,mBAAT,CAA6B1B,sBAAe2B,IAAf,CAAoBN,IAAjD,CADO,EAAb;;AAGA;AACA;AACD;AACAO,SAAO,CAACC,GAAR,CAAYd,EAAZ;AACA,MAAIA,EAAE,CAACC,KAAH,CAASc,YAAb,EAA2B;AAC1B,QAAI1C,eAAMkC,OAAN,CAAcC,QAAlB,EAA4B;AAC3B;AACAvC,SAAG,CAAC8B,OAAD,CAAH,CAAa;AACZW,WAAG,EAAErB,gBAASsB,mBAAT,CAA6BX,EAAE,CAACC,KAAH,CAASK,IAAtC,EAA4CN,EAAE,CAACgB,KAA/C,CADO,EAAb;;AAGA,KALD,MAKO;AACN;AACA,UAAIA,KAAK;AACRC,mBAAW,EAAEjB,EAAE,CAACC,KAAH,CAASK,IADd;AAELN,QAAE,CAACgB,KAFE,CAAT;;AAIA;AACA,UAAI3C,eAAM6C,KAAN,CAAYC,WAAhB,EAA6B;AAC5BlD,WAAG,CAACmD,UAAJ,CAAe;AACdV,aAAG,EAAErB,gBAASsB,mBAAT,CAA6B1B,sBAAeoB,KAAf,CAAqBC,IAAlD,EAAwDU,KAAxD,CADS,EAAf;;AAGA,OAJD,MAIO;AACN/C,WAAG,CAACoD,UAAJ,CAAe;AACdX,aAAG,EAAErB,gBAASsB,mBAAT,CAA6B1B,sBAAeoB,KAAf,CAAqBC,IAAlD,EAAwDU,KAAxD,CADS,EAAf;;AAGA;AACD;AACD,GAvBD,MAuBO;AACN/C,OAAG,CAAC8B,OAAD,CAAH,CAAa;AACZW,SAAG,EAAErB,gBAASsB,mBAAT,CAA6BX,EAAE,CAACC,KAAhC,EAAuCD,EAAE,CAACgB,KAA1C,CADO,EAAb;;AAGA;AACD,CAtCD;;AAwCAM,aAAIC,MAAJ,GAAa,KAAb;;AAEA,IAAMC,GAAG,GAAG,IAAI/C,YAAJ;AACR6C,YADQ,EAAZ;;AAGA,UAAAE,GAAG,EAACC,MAAJ,G;;;;;;;;;;;;;;;;;;;;AC/GA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACc;;;AAGhE;AACgM;AAChM,gBAAgB,2MAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAivB,CAAgB,mwBAAG,EAAC,C;;;;;;;;;;;;ACCjwB,qE;AACe;AACLC,UADK,sBACM;AACb,mBAAI,CAACC,QAAL,GADa;AAEhB,GAHU;AAIXC,QAJW,oBAIF;AACR,GALU;AAMXC,SAAO,EAAE;AACL;AACMF,YAFD,sBAEY;AACPG,qBADO,GACC7D,GAAG,CAAC8D,cAAJ,CAAmB,aAAnB,CADD;AAETD,qBAFS;AAGH,wBAAI,CAACE,cAAL,EAHG;;AAKH,wBAAI,CAACC,cAAL,EALG;;;;;AAUhB,KAZI;AAaP;AACEA,kBAdK,4BAcY;AACbhE,SAAG,CAACiE,aAAJ,CAAkB;AACd/D,eADc,mBACNgE,CADM,EACH;;;;;;;;;;;AAWP1D,uBAAIC,SAAJ,CAAc0D,SAAd,GAA0BD,CAAC,CAACE,eAA5B;AACA,cAAIC,MAAM,GAAGC,EAAE,CAACC,+BAAH,EAAb;AACA/D,uBAAIC,SAAJ,CAAc+D,MAAd,GAAuBH,MAAvB;AACA7D,uBAAIC,SAAJ,CAAcgE,SAAd,GAA0BJ,MAAM,CAACK,GAAP,GAAaR,CAAC,CAACE,eAAzC;;;;;;AAMH,SArBa,EAAlB;;AAuBH,KAtCI;AAuCP;AACEL,kBAxCK,4BAwCY;AACb,UAAMY,OAAO,GAAG3E,GAAG,CAAC8D,cAAJ,CAAmB,SAAnB,CAAhB;AACA;AACA,UAAIc,QAAQ,CAACD,OAAD,EAAU,EAAV,CAAR,GAAwB,CAA5B,EAA+B;AAC3B3E,WAAG,CAAC6E,cAAJ,CAAmB;AACfC,eAAK,EAAE,KAAK7D,iBAAL,CAAuB8D,SADf;AAEfC,cAAI,EAAEL,OAAO,CAACM,QAAR,EAFS,EAAnB;;AAIH,OALD,MAKO;AACHjF,WAAG,CAACkF,iBAAJ,CAAsB,EAACJ,KAAK,EAAE,KAAK7D,iBAAL,CAAuB8D,SAA/B,EAAtB;AACH;AACJ,KAnDI,EANE,E;;;;;;;;;;;;;;;ACFnB;AAAA;AAAA;AAAA;AAA02C,CAAgB,q0CAAG,EAAC,C;;;;;;;;;;ACA93C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';import Vue from 'vue';\r\nimport App from './App';\r\n\r\n//引入全局存储\r\nimport store from '@/store';\r\n\r\n// 引入全局配置\r\nimport $mAssetsPath from '@/config/assets.config.js'\r\nimport $mConfig from '@/config/index.config.js'\r\nimport $mRoutesConfig from '@/config/routes.config.js'\r\nimport $mFormRule from '@/config/formRule.config.js'\r\nimport $mConstDataConfig from '@/config/constData.config.js'\r\nimport $mWebsocketConfig from '@/config/websocket.config.js'\r\n\r\n// 引入全局方法\r\nimport {http} from '@/utils/request';\r\nimport $mGraceChecker from '@/utils/graceChecker';\r\nimport $mHelper from '@/utils/helper';\r\nimport $mRouter from '@/utils/router';\r\nimport $mPayment from '@/utils/payment';\r\n// import $mCrypto from '@/utils/crypto.js';\r\n\r\n// 全局组件\r\nimport rfImage from '@/components/rf-image/rf-image';\r\nimport rfEmpty from '@/components/rf-empty';\r\nimport rfLoading from '@/components/rf-loading/rf-loading';\r\nimport rfLoadProgress from '@/components/rf-load-progress/rf-load-progress';\r\n\r\n// 网络状态监听\r\nuni.getNetworkType({\r\n    success: function (res) {\r\n\t\tstore.dispatch('networkStateChange',res.networkType);\r\n    }\r\n});\r\n\r\nuni.onNetworkStatusChange(function (res) {\r\n    store.dispatch('networkStateChange',res.networkType);\r\n});\r\n\r\n//挂载全局自定义方法\r\nVue.prototype.$mStore = store;\r\n\r\nVue.prototype.$http = http;\r\nVue.prototype.$mConfig = $mConfig;\r\nVue.prototype.$mAssetsPath = $mAssetsPath;\r\nVue.prototype.$mFormRule = $mFormRule;\r\nVue.prototype.$mRoutesConfig = $mRoutesConfig;\r\nVue.prototype.$mConstDataConfig = $mConstDataConfig;\r\nVue.prototype.$mWebsocketConfig = $mWebsocketConfig;\r\n\r\nVue.prototype.$mGraceChecker = $mGraceChecker;\r\nVue.prototype.$mHelper = $mHelper;\r\nVue.prototype.$mRouter = $mRouter;\r\nVue.prototype.$mPayment = $mPayment;\r\n// Vue.prototype.$mCrypto = $mCrypto;\r\n\r\nVue.component('rfImage', rfImage);\r\nVue.component('rfEmpty', rfEmpty);\r\nVue.component('rfLoading', rfLoading);\r\nVue.component('rfLoadProgress', rfLoadProgress);\r\n\r\nif(process.env.NODE_ENV === 'production') {\r\n\tVue.config.productionTip = false\r\n}\r\n\r\n// 路由导航\r\n$mRouter.beforeEach((navType, to) => {\r\n\tif (to.route === undefined) throw ('路由钩子函数中没有找到to对象，路由信息:' + JSON.stringify(to));\r\n\tif (to.route === $mRoutesConfig.login.path && store.getters.hasLogin) {\r\n\t\tuni.reLaunch({\r\n\t\t\turl: $mHelper.objParseUrlAndParam($mRoutesConfig.main.path)\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\t// 过滤需要权限的页面\r\n\tconsole.log(to)\r\n\tif (to.route.requiresAuth) {\r\n\t\tif (store.getters.hasLogin) {\r\n\t\t\t// 已经登录\r\n\t\t\tuni[navType]({\r\n\t\t\t\turl: $mHelper.objParseUrlAndParam(to.route.path, to.query)\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// 登录成功后的重定向地址和参数\r\n\t\t\tlet query = {\r\n\t\t\t\tredirectUrl: to.route.path,\r\n\t\t\t\t...to.query\r\n\t\t\t}\r\n\t\t\t// 没有登录 是否强制登录?\r\n\t\t\tif (store.state.forcedLogin) {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: $mHelper.objParseUrlAndParam($mRoutesConfig.login.path, query)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: $mHelper.objParseUrlAndParam($mRoutesConfig.login.path, query)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tuni[navType]({\r\n\t\t\turl: $mHelper.objParseUrlAndParam(to.route, to.query)\r\n\t\t})\r\n\t}\r\n});\r\n\r\nApp.mpType = 'app';\r\n\r\nconst app = new Vue({\r\n\t...App\r\n});\r\napp.$mount();","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uniapp/stavyan-tinyshop_1.1.11_example/App.vue\"\nexport default component.exports","import mod from \"-!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","\n    import Vue from 'vue'\n    export default {\n        async onLaunch() {\n            this.initData();\n        },\n        onHide() {\n        },\n        methods: {\n            // 数据初始化\n            async initData() {\n                const token = uni.getStorageSync('accessToken');\n                if (token) {\n                    await this.initNavCartNum();\n                    // await this.initWebsocket(token);\n                    await this.initSystemInfo();\n\n\n\n                }\n            },\n\t\t        // 初始化系统信息\n            initSystemInfo() {\n                uni.getSystemInfo({\n                    success(e) {\n\n\n\n\n\n\n\n\n\n\n                        Vue.prototype.StatusBar = e.statusBarHeight;\n                        let custom = wx.getMenuButtonBoundingClientRect();\n                        Vue.prototype.Custom = custom;\n                        Vue.prototype.CustomBar = custom.top - e.statusBarHeight;\n\n\n\n\n\n                    }\n                });\n            },\n\t\t        // 初始化购物车在tab的数字角标\n            initNavCartNum() {\n                const cartNum = uni.getStorageSync('cartNum');\n                // 注意text只能是字符串不能是数字\n                if (parseInt(cartNum, 10) > 0) {\n                    uni.setTabBarBadge({\n                        index: this.$mConstDataConfig.cartIndex,\n                        text: cartNum.toString()\n                    });\n                } else {\n                    uni.removeTabBarBadge({index: this.$mConstDataConfig.cartIndex});\n                }\n            }\n        }\n    }\n","import mod from \"-!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1588225405593\n      var cssReload = require(\"C:/Users/xinchuang/Desktop/网盘下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}