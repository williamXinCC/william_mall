<view class="product data-v-3c71abd6"><block wx:if="{{productDetail.name}}"><view class="detail data-v-3c71abd6"><view class="carousel data-v-3c71abd6"><swiper indicator-dots circular="true" duration="400" autoplay="true" class="data-v-3c71abd6"><block wx:for="{{detailBannerImgs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="swiper-item data-v-3c71abd6"><view class="image-wrapper data-v-3c71abd6"><image class="loaded data-v-3c71abd6" src="{{item}}" mode="aspectFill"></image></view></swiper-item></block></swiper></view><view class="introduce-section data-v-3c71abd6"><view class="title data-v-3c71abd6">{{''+(productDetail.name||' 暂无商品详情'+(!!errorInfo?'['+errorInfo+']':''))+''}}<block wx:if="{{productDetail.sellTotal}}"><uni-tag class="tag data-v-3c71abd6" vue-id="1c037ce0-1" inverted="{{true}}" type="base" text="{{productDetail.sellTotal+'件已售'}}" size="small" bind:__l="__l"></uni-tag></block><block wx:if="{{productDetail.goodsType==1}}"><uni-tag class="tag data-v-3c71abd6" vue-id="1c037ce0-2" inverted="{{true}}" type="base" text="虚拟物品" size="small" bind:__l="__l"></uni-tag></block></view><text class="sketch data-v-3c71abd6">{{productDetail.sketch}}</text><block wx:if="{{productDetail.exchangeType==1}}"><view class="price-box point-box data-v-3c71abd6">该商品仅需<text class="price data-v-3c71abd6">{{productDetail.exchangePoint+" 积分"}}</text></view></block><block wx:else><view class="price-box data-v-3c71abd6"><block wx:if="{{productDetail.sell}}"><text class="price data-v-3c71abd6">{{"¥ "+(currentSkuPrice||productDetail.sell)}}</text></block><block wx:if="{{$root.m0>$root.m1}}"><text class="m-price data-v-3c71abd6">{{productDetail.marketSell}}</text></block><block wx:if="{{$root.m2>$root.m3}}"><text class="coupon-tip data-v-3c71abd6">{{$root.f0+"折"}}</text></block></view></block><block wx:if="{{productDetail}}"><view class="data data-v-3c71abd6"><view class="item data-v-3c71abd6"><text class="iconfont icontuandui data-v-3c71abd6"></text>{{"推荐 "+(productDetail.collect_num||0)}}</view><view class="item data-v-3c71abd6"><text class="iconfont iconkechakan data-v-3c71abd6"></text>{{"浏览 "+(productDetail.view||0)}}</view></view></block></view><block wx:if="{{productDetail.name}}"><view class="share-section data-v-3c71abd6"><view class="share-icon data-v-3c71abd6"><text class="iconfont iconxingxing data-v-3c71abd6"></text>返</view><text class="tit data-v-3c71abd6" open-type="contact">分享该商品给你的朋友们</text><button class="share-btn data-v-3c71abd6" disabled="{{!!productDetail}}" open-type="share">立即分享<view class="iconfont iconyou _i data-v-3c71abd6"></view></button></view></block><view class="c-list data-v-3c71abd6"><block wx:if="{{$root.m4==1}}"><rf-item-popup vue-id="1c037ce0-3" title="商品库存" isEmpty="{{$root.m5===0}}" empty="库存不足" class="data-v-3c71abd6" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-3c71abd6">{{(currentStock||productDetail.residue||0)+" 个"}}</view></rf-item-popup></block><rf-item-popup vue-id="1c037ce0-4" title="发货地址" isEmpty="{{!productDetail.shipAddress}}" empty="发货地址未填写" class="data-v-3c71abd6" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-3c71abd6">{{productDetail.shipAddress}}</view></rf-item-popup><rf-item-popup vue-id="1c037ce0-5" title="购买类型" specClass="{{specClass}}" isEmpty="{{specSelected.length===0}}" empty="{{'基础款 * '+cartCount}}" data-event-opts="{{[['^hide',[['hideService']]],['^show',[['toggleSpec']]]]}}" bind:hide="__e" bind:show="__e" class="data-v-3c71abd6" bind:__l="__l" vue-slots="{{['content','right','popup']}}"><view slot="content" class="data-v-3c71abd6"><block wx:for="{{specSelected}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text data-v-3c71abd6">{{''+sItem.title+''}}</text></block><text class="data-v-3c71abd6">{{'* '+cartCount}}</text></view><view slot="right" class="data-v-3c71abd6"><text class="iconfont iconyou data-v-3c71abd6"></text></view><view class="attr-content data-v-3c71abd6" slot="popup"><view class="a-t data-v-3c71abd6"><image src="{{showTypeImage||productDetail.sell}}" class="data-v-3c71abd6"></image><view class="right data-v-3c71abd6"><text class="title data-v-3c71abd6">{{productDetail.name}}</text><text class="price data-v-3c71abd6">{{"¥"+(currentSkuPrice||productDetail.sell)}}</text><text class="stock data-v-3c71abd6">{{"库存："+(currentStock||productDetail.residue)+"件"}}</text><block wx:if="{{specSelected.length>0}}"><view class="selected data-v-3c71abd6">已选：<block wx:for="{{specSelected}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text data-v-3c71abd6">{{''+sItem.title+''}}</text></block><block wx:if="{{specSelected.length>0}}"><text class="data-v-3c71abd6">{{'* '+cartCount+''}}</text></block></view></block></view></view><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="attr-list data-v-3c71abd6"><text class="data-v-3c71abd6">{{item.$orig.title}}</text><view class="item-list data-v-3c71abd6"><block wx:for="{{specChildList}}" wx:for-item="childItem" wx:for-index="childIndex" wx:key="childIndex"><block wx:if="{{childItem.base_spec_id===item.$orig.base_spec_id}}"><view data-event-opts="{{[['tap',[['selectSpec',[childIndex,'$0','$1'],[[['specChildList','',childIndex,'base_spec_id']],[['specList','',index,'show_type']]]]]]]}}" class="{{['tit data-v-3c71abd6',(childItem.selected)?'selected':'']}}" style="{{(childItem.selected&&item.m6===2?styleObject:'')}}" bindtap="__e"><block wx:if="{{item.m7===1}}"><text class="data-v-3c71abd6">{{''+childItem.title+''}}</text></block><block wx:if="{{item.m8===2}}"><text class="data-v-3c71abd6">{{''+childItem.title+''}}</text></block><block wx:if="{{item.m9===3}}"><view class="data-v-3c71abd6"><image class="img data-v-3c71abd6" src="{{childItem.data||productDetail.imgs}}" mode="aspectFill"></image>{{''+childItem.title+''}}</view></block></view></block></block></view></view></block><view class="select-count data-v-3c71abd6"><text class="data-v-3c71abd6">购买数量</text><rf-number-box class="step data-v-3c71abd6" vue-id="{{('1c037ce0-6')+','+('1c037ce0-5')}}" min="{{1}}" max="{{$root.m10}}" value="{{cartCount}}" data-event-opts="{{[['^eventChange',[['numberChange']]]]}}" bind:eventChange="__e" bind:__l="__l"></rf-number-box></view><button data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="btn data-v-3c71abd6" bindtap="__e">完成</button></view></rf-item-popup><rf-item-popup vue-id="1c037ce0-7" title="优惠券" specClass="{{couponClass}}" data-event-opts="{{[['^hide',[['hideService']]],['^show',[['showPopupService',['couponClass',1]]]]]}}" bind:hide="__e" bind:show="__e" class="data-v-3c71abd6" bind:__l="__l" vue-slots="{{['content','right','popup']}}"><view slot="content" class="data-v-3c71abd6"><text class="con t-r red data-v-3c71abd6">领取优惠券</text></view><view slot="right" class="data-v-3c71abd6"><text class="iconfont iconyou data-v-3c71abd6"></text></view><view class="service data-v-3c71abd6" slot="popup"><view class="sub-list valid data-v-3c71abd6"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['getCoupon',['$0'],[[['productDetail.canReceiveCoupon','',index]]]]]]]}}" class="row data-v-3c71abd6" catchtap="__e"><view class="carrier data-v-3c71abd6"><view class="title data-v-3c71abd6"><view class="data-v-3c71abd6"><text class="cell-icon data-v-3c71abd6">{{item.m11===2?'限':'全'}}</text><text class="cell-title data-v-3c71abd6">{{item.$orig.title}}</text></view><view class="data-v-3c71abd6"><block wx:if="{{item.$orig.money}}"><text class="price data-v-3c71abd6">{{item.$orig.money}}</text></block><block wx:else><text class="price-discount data-v-3c71abd6">{{item.$orig.discount+'折'}}</text></block></view></view><view class="term data-v-3c71abd6"><text class="data-v-3c71abd6">{{item.f1+" ~ "+item.f2}}</text><text class="at_least data-v-3c71abd6">{{"满"+item.$orig.at_least+"可用"}}</text></view><view class="usage data-v-3c71abd6"><text class="data-v-3c71abd6">{{''+(item.m12===2?'部分产品使用':'全场产品使用')+''}}</text><view class="data-v-3c71abd6">{{''+(item.m13===0?'不限':'每人限领'+item.$orig.max_fetch)+"\n\t\t\t                已领"+item.$orig.get_count+''}}<block wx:if="{{item.$orig.percentage}}"><text class="last data-v-3c71abd6">{{"剩余"+item.$orig.percentage+"%"}}</text></block></view></view></view></view></block></view></view></rf-item-popup><rf-item-popup vue-id="1c037ce0-8" title="限购说明" class="data-v-3c71abd6" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content" class="data-v-3c71abd6"><text class="data-v-3c71abd6">{{$root.m14===0?'不限购':productDetail.maxBuy+' 件'}}</text></view></rf-item-popup><rf-item-popup vue-id="1c037ce0-9" title="积分活动" class="data-v-3c71abd6" bind:__l="__l" vue-slots="{{['content']}}"><view class="con-list data-v-3c71abd6" slot="content"><block wx:if="{{productDetail.exchangeType}}"><text class="data-v-3c71abd6">{{"兑换类型: "+$root.f3+''}}</text></block><block wx:if="{{$root.m15>0}}"><text class="data-v-3c71abd6">{{"赠送类型: "+$root.f4+''}}</text></block><block wx:if="{{$root.m16>0}}"><text class="data-v-3c71abd6">{{"下单可获得: "+$root.f5}}</text></block><block wx:if="{{productDetail.exchangePoint!=0}}"><text class="data-v-3c71abd6">{{"兑换所需积分: "+productDetail.exchangePoint+''}}</text></block><block wx:if="{{productDetail.userPoint!=0}}"><text class="data-v-3c71abd6">{{"可使用抵扣积分: "+productDetail.userPoint}}</text></block><block wx:if="{{productDetail.exchangeType==1}}"><text data-event-opts="{{[['tap',[['addCart',['buy',true]]]]]}}" class="buy-now data-v-3c71abd6" bindtap="__e">积分兑换 >></text></block></view></rf-item-popup><rf-item-popup vue-id="1c037ce0-10" title="服务" specClass="{{serviceClass}}" isEmpty="{{serviceTags.length===0}}" empty="暂无相关服务" data-event-opts="{{[['^hide',[['hideService']]],['^show',[['showPopupService',['serviceClass','$0'],['serviceTags']]]]]}}" bind:hide="__e" bind:show="__e" class="data-v-3c71abd6" bind:__l="__l" vue-slots="{{['default','content','popup']}}"><view slot="content" class="data-v-3c71abd6"><text class="data-v-3c71abd6">{{serviceTags[0]}}</text></view><block wx:if="{{serviceTags.length>0}}"><view slot="right" class="data-v-3c71abd6"><text class="iconfont iconyou data-v-3c71abd6"></text></view></block><view class="service data-v-3c71abd6" slot="popup"><view class="content data-v-3c71abd6"><block wx:for="{{serviceTags}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="row data-v-3c71abd6"><view class="title data-v-3c71abd6">{{item}}</view><view class="description data-v-3c71abd6">{{"此商品承诺"+item}}</view></view></block></view><button data-event-opts="{{[['tap',[['hideService',['$event']]]]]}}" class="btn data-v-3c71abd6" bindtap="__e">完成</button></view></rf-item-popup><rf-item-popup vue-id="1c037ce0-11" title="商品参数" specClass="{{attributeValueClass}}" isEmpty="{{productDetail.attributeList.length===0}}" empty="暂无商品参数" data-event-opts="{{[['^hide',[['hideService']]],['^show',[['showPopupService',['attributeValueClass','$0'],['attributeList']]]]]}}" bind:hide="__e" bind:show="__e" class="data-v-3c71abd6" bind:__l="__l" vue-slots="{{['default','content','popup']}}"><view slot="content" class="data-v-3c71abd6"><text class="data-v-3c71abd6">{{''+((attributeList&&attributeList[0]&&attributeList[0].attributeName)+': '+(attributeList&&attributeList[0]&&attributeList[0].attributeValue))}}</text></view><block wx:if="{{attributeList.length>0}}"><view slot="right" class="data-v-3c71abd6"><text class="iconfont iconyou data-v-3c71abd6"></text></view></block><view class="service data-v-3c71abd6" slot="popup"><view class="content data-v-3c71abd6"><block wx:for="{{attributeList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="row data-v-3c71abd6"><view class="title data-v-3c71abd6">{{''+(item.attributeName+': '+item.attributeValue)+''}}</view></view></block></view><button data-event-opts="{{[['tap',[['hideService',['$event']]]]]}}" class="btn data-v-3c71abd6" bindtap="__e">完成</button></view></rf-item-popup></view><view data-event-opts="{{[['tap',[['toEvaluateList',['$event']]]]]}}" class="eva-section data-v-3c71abd6" bindtap="__e"><view class="e-header data-v-3c71abd6"><text class="tit data-v-3c71abd6">评价</text><text class="data-v-3c71abd6">{{"("+(commentCount||0)+")"}}</text><block wx:if="{{commentCount>0}}"><text class="tip data-v-3c71abd6">评价信息</text></block><block wx:else><text class="tip data-v-3c71abd6">暂无评价信息</text></block><view class="iconfont iconyou _i data-v-3c71abd6"></view></view><block wx:if="{{commentInfo}}"><view class="eva-box data-v-3c71abd6"><image class="portrait data-v-3c71abd6" src="{{commentInfo[0].custIcon}}" mode="aspectFill"></image><view class="right data-v-3c71abd6"><view class="name data-v-3c71abd6"><text class="data-v-3c71abd6">{{''+(commentInfo&&commentInfo[0].createName||'匿名用户')+''}}</text><block wx:if="{{evaluateList.length>0}}"><rf-rate vue-id="1c037ce0-12" size="16" disabled="true" value="{{evaluateList[0].scores}}" active-color="#fa436a" class="data-v-3c71abd6" bind:__l="__l"></rf-rate></block></view><text class="con in2line data-v-3c71abd6">{{commentInfo&&commentInfo[0].content||'这个人很懒，什么都没留下~'}}</text><view class="bot data-v-3c71abd6"><text class="attr data-v-3c71abd6">{{"购买类型："+(productDetail.evaluate&&productDetail.evaluate[0]&&productDetail.evaluate[0].sku_name||'基础版')}}</text><text class="time data-v-3c71abd6">{{commentInfo&&commentInfo[0].createTime||time}}</text></view></view></view></block></view><view class="detail-desc data-v-3c71abd6"><view class="d-header data-v-3c71abd6"><text class="data-v-3c71abd6">商品详情</text></view><rich-text nodes="{{$root.f6}}" class="data-v-3c71abd6"></rich-text></view><view class="page-bottom data-v-3c71abd6"><navigator class="p-b-btn data-v-3c71abd6" url="/pages/index/index" open-type="switchTab"><view class="iconfont iconxiatubiao--copy _i data-v-3c71abd6"></view><text class="data-v-3c71abd6">首页</text></navigator><navigator class="p-b-btn cart data-v-3c71abd6" url="/pages/cart/cart" open-type="switchTab"><view class="iconfont icongouwuche _i data-v-3c71abd6"></view><text class="data-v-3c71abd6">购物车</text><block wx:if="{{hasLogin&&cartNum&&cartNum>0}}"><rf-badge class="badge data-v-3c71abd6" vue-id="1c037ce0-13" type="error" size="small" text="{{cartNum}}" bind:__l="__l"></rf-badge></block></navigator><view data-event-opts="{{[['tap',[['toFavorite',['$event']]]]]}}" class="{{['p-b-btn data-v-3c71abd6',(favorite)?'active':'']}}" bindtap="__e"><view class="iconfont iconshoucang _i data-v-3c71abd6"></view><text class="data-v-3c71abd6">收藏</text></view><block wx:if="{{$root.m17>0}}"><view class="action-btn-group data-v-3c71abd6"><button class="action-btn no-border buy-now-btn data-v-3c71abd6" type="primary" disabled="{{buyBtnDisabled}}" data-event-opts="{{[['tap',[['addCart',['buy']]]]]}}" bindtap="__e">立即购买</button><button class=" action-btn no-border add-cart-btn data-v-3c71abd6" type="primary" disabled="{{addCartBtnDisabled}}" data-event-opts="{{[['tap',[['addCart',['cart']]]]]}}" bindtap="__e">加入购物车</button></view></block><block wx:else><view class="action-btn-group data-v-3c71abd6"><button class="action-btn no-border buy-now-btn data-v-3c71abd6" type="primary" disabled="{{buyBtnDisabled}}" data-event-opts="{{[['tap',[['addCart',['buy']]]]]}}" bindtap="__e">立即购买</button><button class="action-btn  data-v-3c71abd6" type="primary" disabled="{{buyBtnDisabled}}" data-event-opts="{{[['tap',[['addCart',['buy']]]]]}}" bindtap="__e">库存不足</button></view></block></view></view></block><block wx:if="{{!productDetail.name&&!loading}}"><view class="data-v-3c71abd6"><rf-no-data vue-id="1c037ce0-14" custom="{{true}}" class="data-v-3c71abd6" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['getProductDetail',['$0'],['productDetail.id']]]]]}}" class="title data-v-3c71abd6" bindtap="__e">{{(errorInfo||'暂无数据')+"，点击"}}<text class="spec-color data-v-3c71abd6">重新加载</text></view></rf-no-data></view></block><block wx:if="{{loading}}"><rf-loading vue-id="1c037ce0-15" class="data-v-3c71abd6" bind:__l="__l"></rf-loading></block></view>